Explain the functionality, preferably through a diagram